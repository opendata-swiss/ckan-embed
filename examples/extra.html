<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <title>CKAN Embed Test</title>

    <!-- Load library dependencies -->
    <script src="../node_modules/underscore/underscore-min.js" charset="utf8"></script>
    <script src="../node_modules/jquery/dist/jquery.min.js" charset="utf8"></script>
    <script src="../node_modules/ckan/dist/ckan.bundle.js" charset="utf8"></script>

    <!-- Load the widget script -->
    <script src="../dist/ckan-embed.bundle.js"></script>

    <!-- Some example styles -->
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="https://ckan.org/static/img/ckan.ico">
  </head>
  <body>
    <h1>CKAN Embed advanced test page</h1>
    <p>
      For more information visit the
      <a href="https://handbook.opendata.swiss/de/content/glossar/bibliothek/embed.html">Handbook documentation</a> and
      <a href="https://github.com/opendata-swiss/ckan-embed">GitHub project</a>.
    </p>
    <p>&lt; Back to <a href="index.html">start page</a>.</p>

    <h2>Search datasets from the National Library, 3 results</h2>
    <hr>

    <div class="ckan-embed opendata-swiss" id="example-2"></div>

    <script>
    CKANembed.search('#example-2', 'https://opendata.swiss/', {
      fq:       'organization:schweizerische-nationalbibliothek-nb',
      rows:     3
    });
    </script>

    <h2>Search for tag 'hospitals', 3 results, JSONP enabled, with logging</h2>
    <hr>

    <div class="ckan-embed opendata-swiss" id="example-3"></div>

    <script>
    CKANembed.search('#example-3', 'https://opendata.swiss/', {
      fq:       'tags:hospitals',
      rows:     3,
      jsonp:    true
    }, function(error, result) {
      if (error) console.error(error);
      if (result) console.info(result);
    });
    </script>
  </body>
</html>
